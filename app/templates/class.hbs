
<div class="row">
    <div id="new-header" {{bind-attr style=backgroundColour}} class="col s12 z-depth-1">
        <div class="row">
            <div id="class-top" class="col s12 m8 offset-m2 z-depth-1">
                <div id="class-header" class="row">
                    <div class="col s9">
                        <h2 class="f-200">{{class.name}}</h2>
                    </div>
                    <div class="col s3">
                        <h2 class="f-200">{{class.grade}}</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="class-marks" class="row">
    <div class="col s12 m8 offset-m2">

        <ul class="collapsible popout" data-collapsible="accordion">

            {{#each mark in class.marks}}

            <li {{bind-attr id=mark.id}} class="mark-header">
                <div {{action 'activeChanged' mark.id}} class="collapsible-header mark-cheader">
                    <div class="row">
                        <div id="mark-title" class="col s9">
                            {{mark.title}}
                        </div>
                        <div class="col s3 right-align">
                            {{computedGrade mark.grade mark.total}}
                        </div>
                    </div>
                </div>

                <div class="collapsible-body">
                    <div class="row">

                        <div id="mark-input" class="input-field col s3">
                            {{input value=mark.weight type="text" length="3"}}
                            <label class="active" for="icon_prefix">Weight</label>
                        </div>

                        <div id="mark-input" class="input-field col s3">
                            {{input value=mark.grade type="text" length="3"}}
                            <label class="active" for="icon_prefix">Grade</label>
                        </div>

                        <div id="mark-input" class="input-field col s3">
                            {{input placeholder="100" value=mark.total type="text" length="3"}}
                            <label class="active" for="icon_prefix">Total</label>
                        </div>

                        <div id="mark-icons" class="col s3">
                            <div class="row center-align">
                                <i class="fa fa-clock-o"></i>
                            </div>

                            <div id="mark-icon-down" class="col s12 center-align">
                                <i class="fa fa-trash-o"></i>
                            </div>

                        </div>
                    </div>

                </div>
            </li>

            {{/each}}
        </ul>

        <div id="mark-add" class="row">
            <div class="col s12 z-depth-1">
                <div class="row">
                    <div class="col s10">
                        <div class="input-field">
                            {{input id="mark-title" action="addMark" value=mark_title type="text" length="10"}}
                            <label for="mark_title">Mark Title</label>
                        </div>
                    </div>
                    <div id="mark-click-area" {{action 'addMark'}} class="col s2">
                        <i id="mark-add-icon" class="fa fa-plus fa-2x"></i>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

{{class.id}}
<br>
{{class.marks.length}}


<script src="assets/attrchange.js"></script>
<script src="assets/collapse-init.js"></script>
